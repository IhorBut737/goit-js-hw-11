{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '48994521-1332b5dc6d32291391eccb048';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  const params = new URLSearchParams({\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?key=${API_KEY}&${params.toString()}`;\n\n  return axios.get(url).then(response => {\n    if (response.data.hits.length === 0) {\n      return Promise.reject(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    }\n    return response.data.hits;\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function renderImages(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <a href=\"${largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        <div class=\"info\">\n          <p>Likes ${likes}</p>\n          <p>Views ${views}</p>\n          <p>Comments ${comments}</p>\n          <p>Downloads ${downloads}</p>\n        </div>\n      </a>\n      `\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, clearGallery } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('#search-form');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = event.target.elements.searchQuery.value.trim();\n  if (!query) {\n    iziToast.error({ title: 'Error', message: 'Please enter a search query!' });\n    return;\n  }\n\n  clearGallery();\n  loader.style.display = 'block';\n\n  fetchImages(query)\n    .then(images => {\n      renderImages(images);\n      iziToast.success({ title: 'Success', message: 'Images loaded!' });\n    })\n\n    .catch(error => {\n      iziToast.error({ title: 'Error', message: error });\n    })\n\n    .finally(() => {\n      loader.style.display = 'none';\n      form.reset();\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","params","url","axios","response","gallery","lightbox","SimpleLightbox","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","form","loader","event","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKE,EAAM,GAAGJ,CAAQ,QAAQD,CAAO,IAAII,EAAO,SAAU,CAAA,GAE3D,OAAOE,EAAM,IAAID,CAAG,EAAE,KAAKE,GACrBA,EAAS,KAAK,KAAK,SAAW,EACzB,QAAQ,OACb,0EACR,EAEWA,EAAS,KAAK,IACtB,CACH,CCnBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,iBACKL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,qBAEzBC,CAAK;AAAA,qBACLC,CAAK;AAAA,wBACFC,CAAQ;AAAA,yBACPC,CAAS;AAAA;AAAA;AAAA,OAI7B,EACA,KAAK,EAAE,EAEVZ,EAAQ,UAAYK,EACpBJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bb,EAAQ,UAAY,EACtB,CCnCA,MAAMc,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMrB,EAAQqB,EAAM,OAAO,SAAS,YAAY,MAAM,OACtD,GAAI,CAACrB,EAAO,CACVsB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,8BAA8B,CAAE,EAC1E,MACD,CAEDJ,IACAE,EAAO,MAAM,QAAU,QAEvBrB,EAAYC,CAAK,EACd,KAAKS,GAAU,CACdD,EAAaC,CAAM,EACnBa,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAS,gBAAgB,CAAE,CACtE,CAAK,EAEA,MAAMC,GAAS,CACdD,EAAS,MAAM,CAAE,MAAO,QAAS,QAASC,CAAK,CAAE,CACvD,CAAK,EAEA,QAAQ,IAAM,CACbH,EAAO,MAAM,QAAU,OACvBD,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}